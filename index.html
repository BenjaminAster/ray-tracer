<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, interactive-widget=resizes-content" />
	<meta name="robots" content="all" />
	<meta name="author" content="Benjamin Aster" />
	<meta name="description" content="A ray tracer made with WebGPU" />
	<meta name="repository" content="https://github.com/BenjaminAster/ray-tracer" />
	<meta property="og:image" content="https://benjaminaster.com/ray-tracer/assets/screenshot.png" />
	<meta property="twitter:card" content="summary_large_image" />

	<link rel="icon" href="./assets/icon.svg" type="image/svg+xml" sizes="any" />
	<link rel="icon" href="./assets/icon.png" type="image/png" sizes="512x512" />
	<link rel="manifest" href="./app.webmanifest" />

	<title>WebGPU Ray Tracer</title>

	<link rel="stylesheet" href="./style.css" />

	<script type="module" src="./script.js"></script>
	<link rel="prefetch" as="worker" href="./worker.js" />
	<link rel="prefetch" as="fetch" href="./shader.wgsl" />
	<link rel="prefetch" as="fetch" href="./assets/hinterer-gosausee.jpeg" />
</head>

<body>
	<noscript>
		Please enable JavaScript to view this site.
		<hr />
	</noscript>

	<input type="checkbox" class="hidden" aria-label="Toggle overlay" id="toggle-overlay">
	<div class="overlay">
		<label class="cog" for="toggle-overlay">⚙&#xFE0F;</label>

		<div id="webgpu-unsupported" hidden>
			Your browser does not fully support WebGPU. Please use a Chromium-based browser like Google Chrome or Microsoft Edge.
			Also, note that WebGPU support on platforms other than Windows and MacOS is still experimental and might have to be enabled manually.
		</div>

		<div class="info">
			Use W/A/S/D/Q/E to move the camera and arrow keys to pan. <label for="toggle-overlay">&Cross;&#xFE0F;</label>
		</div>

		<div class="settings">
			<div>
				<span>Max light ray bounces: <span id="max-bounces"></span></span>
				<input type="range" id="max-bounces-slider" min="1" max="10" />
			</div>
			<div>
				<span>Samples per pixel (antialiasing): <span id="antialiasing-samples-per-pixel"></span></span>
				<input type="range" id="antialiasing-samples-per-pixel-slider" min="1" max="6" />
			</div>
			<div>
				<span>Field of view: <span id="field-of-view"></span></span>
				<input type="range" id="field-of-view-slider" min="1" max="179" step="any" />
			</div>
			<div>
				<span>Device pixels per canvas pixel: <span id="resolution"></span></span>
				<input type="range" id="resolution-slider" min="1" max="10" />
			</div>
		</div>
	</div>

	<div class="bottom-bar">
		<div class="camera-controls">
			<button class="move" id="move-down" title="Move down">
				<div>⇣</div>
				<kbd>Q</kbd>
			</button>
			<button class="move" id="move-forward" title="Move forward">
				<div>↑</div>
				<kbd>W</kbd>
			</button>
			<button class="move" id="move-up" title="Move up">
				<div>⇡</div>
				<kbd>E</kbd>
			</button>
			<button class="move" id="move-left" title="Move left">
				<div>←</div>
				<kbd>A</kbd>
			</button>
			<button class="move" id="move-backward" title="Move backward">
				<div>↓</div>
				<kbd>S</kbd>
			</button>
			<button class="move" id="move-right" title="Move right">
				<div>→</div>
				<kbd>D</kbd>
			</button>
		</div>

		<footer>
			<a href="https://github.com/BenjaminAster/ray-tracer">View on GitHub</a>
		</footer>
	</div>

	<canvas></canvas>
</body>

</html>
